{"ast":null,"code":"import { GET_ALL_DOGS, GET_DOG_DETAILS, CLEAN_DOG_DETAILS } from \"./action-types\";\nimport { store } from './store';\nexport const getAllDogs = async () => {\n  return new Promise(resolve => {\n    const unsubscribe = store.subscribe(() => {\n      const state = store.getState();\n      if (state.dogs.length > 0) {\n        unsubscribe();\n        resolve(state.dogs);\n      }\n    });\n    store.dispatch(fetchDogs());\n  });\n};\nexport const getDogDetails = name => {\n  return function (dispatch) {\n    fetch(`http://localhost:3001/dogs?name=${name}`).then(result => result.json()).then(dog => {\n      console.log(dog);\n      return dispatch({\n        type: GET_DOG_DETAILS,\n        payload: dog\n      });\n    });\n  };\n};\nexport const cleanDogDetails = () => {\n  return {\n    type: CLEAN_DOG_DETAILS\n  };\n};","map":{"version":3,"names":["GET_ALL_DOGS","GET_DOG_DETAILS","CLEAN_DOG_DETAILS","store","getAllDogs","Promise","resolve","unsubscribe","subscribe","state","getState","dogs","length","dispatch","fetchDogs","getDogDetails","name","fetch","then","result","json","dog","console","log","type","payload","cleanDogDetails"],"sources":["C:/Users/j-aco/OneDrive/Escritorio/PI-Dogs-main/client/src/Redux/actions.js"],"sourcesContent":["import { GET_ALL_DOGS, GET_DOG_DETAILS, CLEAN_DOG_DETAILS } from \"./action-types\";\r\nimport { store } from './store';\r\n\r\nexport const getAllDogs = async() => {\r\n    return new Promise((resolve) => {\r\n      const unsubscribe = store.subscribe(() => {\r\n        const state = store.getState();\r\n        if (state.dogs.length > 0) {\r\n          unsubscribe();\r\n          resolve(state.dogs);\r\n        }\r\n      });\r\n  \r\n      store.dispatch(fetchDogs());\r\n    });\r\n  }\r\n  \r\nexport const getDogDetails = (name) => {\r\n    return function(dispatch) {\r\n        fetch(`http://localhost:3001/dogs?name=${name}`)\r\n        .then(result => result.json())\r\n        .then(dog => {\r\n            console.log(dog)\r\n            return dispatch({type: GET_DOG_DETAILS, payload: dog})\r\n        })\r\n    }\r\n}\r\n\r\nexport const cleanDogDetails = () => {\r\n    return {type: CLEAN_DOG_DETAILS}\r\n}"],"mappings":"AAAA,SAASA,YAAY,EAAEC,eAAe,EAAEC,iBAAiB,QAAQ,gBAAgB;AACjF,SAASC,KAAK,QAAQ,SAAS;AAE/B,OAAO,MAAMC,UAAU,GAAG,MAAAA,CAAA,KAAW;EACjC,OAAO,IAAIC,OAAO,CAAEC,OAAO,IAAK;IAC9B,MAAMC,WAAW,GAAGJ,KAAK,CAACK,SAAS,CAAC,MAAM;MACxC,MAAMC,KAAK,GAAGN,KAAK,CAACO,QAAQ,EAAE;MAC9B,IAAID,KAAK,CAACE,IAAI,CAACC,MAAM,GAAG,CAAC,EAAE;QACzBL,WAAW,EAAE;QACbD,OAAO,CAACG,KAAK,CAACE,IAAI,CAAC;MACrB;IACF,CAAC,CAAC;IAEFR,KAAK,CAACU,QAAQ,CAACC,SAAS,EAAE,CAAC;EAC7B,CAAC,CAAC;AACJ,CAAC;AAEH,OAAO,MAAMC,aAAa,GAAIC,IAAI,IAAK;EACnC,OAAO,UAASH,QAAQ,EAAE;IACtBI,KAAK,CAAE,mCAAkCD,IAAK,EAAC,CAAC,CAC/CE,IAAI,CAACC,MAAM,IAAIA,MAAM,CAACC,IAAI,EAAE,CAAC,CAC7BF,IAAI,CAACG,GAAG,IAAI;MACTC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;MAChB,OAAOR,QAAQ,CAAC;QAACW,IAAI,EAAEvB,eAAe;QAAEwB,OAAO,EAAEJ;MAAG,CAAC,CAAC;IAC1D,CAAC,CAAC;EACN,CAAC;AACL,CAAC;AAED,OAAO,MAAMK,eAAe,GAAGA,CAAA,KAAM;EACjC,OAAO;IAACF,IAAI,EAAEtB;EAAiB,CAAC;AACpC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}